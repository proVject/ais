import{_ as b,a as x,r as p,d as y,g as l,w as a,h as t,i as k,o as E,f as L,l as N,m as h,E as i}from"./index-Bhnjg6yV.js";const B={class:"login"},C={__name:"Login",setup(S){const _=k(),r=x(),u=p(null),o=p({email:"",password:"",remember_me:"0"}),c={email:[{type:"email",message:"Не валідний електронний адрес"},{required:!0,message:"Обов'язкове поле"}],password:[{required:!0,message:"Обов'язкове поле"}]},f=async()=>{u.value.validate(async m=>{if(m)try{await r.login(o.value),i.success({title:"Успіх",message:"Вхід виконано успішно"}),_.push({name:"Index"})}catch(e){i.error({title:"Помилка",message:e.message})}})};return(m,e)=>{const d=t("el-input"),n=t("el-form-item"),g=t("el-checkbox"),v=t("el-button"),V=t("el-form"),w=t("el-card");return E(),y("div",B,[l(w,null,{header:a(()=>e[3]||(e[3]=[h("span",null,"Увійти",-1)])),default:a(()=>[l(V,{ref_key:"formEl",ref:u,model:o.value,rules:c},{default:a(()=>[l(n,{prop:"email"},{default:a(()=>[l(d,{placeholder:"Електронна адреса",modelValue:o.value.email,"onUpdate:modelValue":e[0]||(e[0]=s=>o.value.email=s)},null,8,["modelValue"])]),_:1}),l(n,{prop:"password"},{default:a(()=>[l(d,{type:"password",placeholder:"Пароль",modelValue:o.value.password,"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.password=s)},null,8,["modelValue"])]),_:1}),l(n,null,{default:a(()=>[l(g,{"true-value":"1","false-value":"0",label:"Запам'ятати мене",modelValue:o.value.remember_me,"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.remember_me=s)},null,8,["modelValue"])]),_:1}),l(v,{type:"primary",plain:"",loading:L(r).loginLoading,onClick:f},{default:a(()=>e[4]||(e[4]=[N("Увійти")])),_:1,__:[4]},8,["loading"])]),_:1},8,["model"])]),_:1})])}}},q=b(C,[["__scopeId","data-v-37fa8692"]]);export{q as default};
